webpackJsonp([1],{"/MPy":function(t,s){},0:function(t,s){},"2uFj":function(t,s){t.exports={api:{uri:"/api/"},yaMetrika:{uri:"https://api-metrika.yandex.ru/stat/v1/data?"}}},Ie3f:function(t,s){},MYo7:function(t,s){},NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW"),a={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{attrs:{id:"app"}},[s("div",{staticClass:"test m-grid m-grid--hor m-grid--root m-page"},[s("router-view")],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-scroll-top",attrs:{id:"m_scroll_top"}},[s("i",{staticClass:"la la-arrow-up"})])}]};var n=i("VU/8")({name:"App"},a,!1,function(t){i("PtXE")},null,null).exports,r=i("/ocq"),l=i("8+8L"),o={data:function(){return{}},methods:{logout:function(){this.$http.post("/logout").then(function(t){window.location.replace("http://localhost:3000/")},function(t){window.location.replace("http://localhost:3000/")})}}},c={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("header",{staticClass:"m-grid__item    m-header ",attrs:{id:"m_header","m-minimize-offset":"200","m-minimize-mobile-offset":"200"}},[i("div",{staticClass:"m-container m-container--fluid m-container--full-height"},[i("div",{staticClass:"m-stack m-stack--ver m-stack--desktop"},[t._m(0),t._v(" "),i("div",{staticClass:"m-stack__item m-stack__item--fluid m-header-head",attrs:{id:"m_header_nav"}},[t._m(1),t._v(" "),i("div",{staticClass:"m-topbar  m-stack m-stack--ver m-stack--general",attrs:{id:"m_header_topbar"}},[i("div",{staticClass:"m-stack__item m-topbar__nav-wrapper"},[i("ul",{staticClass:"m-topbar__nav m-nav m-nav--inline"},[i("li",{staticClass:"m-nav__item m-topbar__quick-actions m-dropdown m-dropdown--skin-light m-dropdown--large m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push m-dropdown--mobile-full-width m-dropdown--skin-light",attrs:{"m-dropdown-toggle":"click"}},[t._m(2),t._v(" "),i("div",{staticClass:"m-dropdown__wrapper"},[i("span",{staticClass:"m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"}),t._v(" "),i("div",{staticClass:"m-dropdown__inner"},[t._m(3),t._v(" "),i("div",{staticClass:"m-dropdown__body m-dropdown__body--paddingless"},[i("div",{staticClass:"m-dropdown__content"},[i("div",{staticClass:"m-scrollable",attrs:{"data-scrollable":"false","data-max-height":"380","data-mobile-max-height":"200"}},[i("div",{staticClass:"m-nav-grid m-nav-grid--skin-light"},[i("div",{staticClass:"m-nav-grid__row"},[i("router-link",{staticClass:"m-nav-grid__item",attrs:{to:{name:"createSite"}}},[i("i",{staticClass:"m-nav-grid__icon flaticon-file"}),t._v(" "),i("span",{staticClass:"m-nav-grid__text"},[t._v("\n                                      Добавить сайт\n                                    ")])]),t._v(" "),t._m(4)],1)])])])])])])]),t._v(" "),i("li",{staticClass:"m-nav__item m-topbar__user-profile  m-dropdown m-dropdown--medium m-dropdown--arrow  m-dropdown--align-right m-dropdown--mobile-full-width m-dropdown--skin-light",attrs:{"m-dropdown-toggle":"click"}},[t._m(5),t._v(" "),i("div",{staticClass:"m-dropdown__wrapper"},[i("span",{staticClass:"m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"}),t._v(" "),i("div",{staticClass:"m-dropdown__inner"},[t._m(6),t._v(" "),i("div",{staticClass:"m-dropdown__body"},[i("div",{staticClass:"m-dropdown__content"},[i("ul",{staticClass:"m-nav m-nav--skin-light"},[i("li",{staticClass:"m-nav__separator m-nav__separator--fit"}),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("a",{staticClass:"btn m-btn--pill    btn-secondary m-btn m-btn--custom m-btn--label-brand m-btn--bolder",on:{click:t.logout}},[t._v("\n                                  Logout\n                                ")])])])])])])])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-stack__item m-brand  m-brand--skin-light "},[s("div",{staticClass:"m-stack m-stack--ver m-stack--general"},[s("div",{staticClass:"m-stack__item m-stack__item--middle m-brand__logo"},[s("a",{staticClass:"m-brand__logo-wrapper",attrs:{href:"/"}},[s("img",{attrs:{alt:"",src:"/static/rubka_logo.png",width:"54px",height:"60px"}})]),this._v(" "),s("h3",{staticClass:"m-header__title"},[this._v("\n              Rubka\n            ")])]),this._v(" "),s("div",{staticClass:"m-stack__item m-stack__item--middle m-brand__tools"},[s("a",{staticClass:"m-brand__icon m-brand__toggler m-brand__toggler--left m--visible-tablet-and-mobile-inline-block",attrs:{href:"javascript:;",id:"m_aside_left_offcanvas_toggle"}},[s("span")]),this._v(" "),s("a",{staticClass:"m-brand__icon m--visible-tablet-and-mobile-inline-block",attrs:{id:"m_aside_header_topbar_mobile_toggle",href:"javascript:;"}},[s("i",{staticClass:"flaticon-more"})])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-header__title"},[s("h3",{staticClass:"m-header__title-text"},[this._v("\n            Rubka\n          ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"m-nav__link m-dropdown__toggle",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-badge m-badge m-badge--dot m-badge--info m--hide"}),this._v(" "),s("span",{staticClass:"m-nav__link-icon"},[s("span",{staticClass:"m-nav__link-icon-wrapper"},[s("i",{staticClass:"flaticon-share"})])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-dropdown__header m--align-center"},[s("span",{staticClass:"m-dropdown__header-title"},[this._v("\n                            Быстрые действия\n                        ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"m-nav-grid__item",attrs:{href:"#"}},[s("i",{staticClass:"m-nav-grid__icon flaticon-time"}),this._v(" "),s("span",{staticClass:"m-nav-grid__text"},[this._v("\n                                      Запустить A/B тестирование\n                                    ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"m-nav__link m-dropdown__toggle",attrs:{href:"#"}},[s("span",{staticClass:"m-topbar__userpic m--hide"},[s("img",{staticClass:"m--img-rounded m--marginless m--img-centered",attrs:{src:"assets/app/media/img/users/user4.jpg",alt:""}})]),this._v(" "),s("span",{staticClass:"m-nav__link-icon m-topbar__usericon"},[s("span",{staticClass:"m-nav__link-icon-wrapper"},[s("i",{staticClass:"flaticon-user-ok"})])]),this._v(" "),s("span",{staticClass:"m-topbar__username m--hide"},[this._v("\n                        Nick\n                      ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-dropdown__header m--align-center"},[s("div",{staticClass:"m-card-user m-card-user--skin-light"},[s("div",{staticClass:"m-card-user__pic"},[s("img",{staticClass:"m--img-rounded m--marginless",attrs:{src:"assets/app/media/img/users/user4.jpg",alt:""}})]),this._v(" "),s("div",{staticClass:"m-card-user__details"},[s("span",{staticClass:"m-card-user__name m--font-weight-500"},[this._v("\n                                Mark Andre\n                              ")]),this._v(" "),s("a",{staticClass:"m-card-user__email m--font-weight-300 m-link",attrs:{href:""}},[this._v("\n                                mark.andre@gmail.com\n                              ")])])])])}]},m={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-aside-menu  m-aside-menu--skin-light m-aside-menu--submenu-skin-light ",attrs:{id:"m_ver_menu","data-menu-vertical":"true","m-menu-scrollable":"1","m-menu-dropdown-timeout":"500"}},[i("ul",{staticClass:"m-menu__nav  m-menu__nav--dropdown-submenu-arrow "},[i("li",{staticClass:"m-menu__item  m-menu__item--submenu",attrs:{"aria-haspopup":"true","m-menu-submenu-toggle":"hover"}},[t._m(0),t._v(" "),i("div",{staticClass:"m-menu__submenu "},[i("span",{staticClass:"m-menu__arrow"}),t._v(" "),i("ul",{staticClass:"m-menu__subnav"},[t._m(1),t._v(" "),t._m(2),t._v(" "),i("li",{staticClass:"m-menu__item ",attrs:{"aria-haspopup":"true","m-menu-link-redirect":"1"}},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"sitesHome"}}},[i("i",{staticClass:"m-menu__link-bullet m-menu__link-bullet--dot"},[i("span")]),t._v(" "),i("span",{staticClass:"m-menu__link-text"},[t._v("\n                    Сайты\n                  ")])])],1),t._v(" "),t._m(3)])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("a",{staticClass:"m-menu__link m-menu__toggle",attrs:{href:"javascript:;"}},[s("i",{staticClass:"m-menu__link-icon flaticon-layers"}),this._v(" "),s("span",{staticClass:"m-menu__link-text"},[this._v("\n              Космос\n            ")]),this._v(" "),s("i",{staticClass:"m-menu__ver-arrow la la-angle-right"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-menu__item  m-menu__item--parent",attrs:{"aria-haspopup":"true"}},[s("span",{staticClass:"m-menu__link"},[s("span",{staticClass:"m-menu__link-text"},[this._v("\n                    Космос\n                  ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-menu__item ",attrs:{"aria-haspopup":"true","m-menu-link-redirect":"1"}},[s("a",{staticClass:"m-menu__link ",attrs:{href:"inner.html"}},[s("i",{staticClass:"m-menu__link-bullet m-menu__link-bullet--dot"},[s("span")]),this._v(" "),s("span",{staticClass:"m-menu__link-text"},[this._v("\n                    Аналитика\n                  ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-menu__item ",attrs:{"aria-haspopup":"true","m-menu-link-redirect":"1"}},[s("a",{staticClass:"m-menu__link ",attrs:{href:"inner.html"}},[s("i",{staticClass:"m-menu__link-bullet m-menu__link-bullet--dot"},[s("span")]),this._v(" "),s("span",{staticClass:"m-menu__link-text"},[this._v("\n                    A/B тестирование\n                  ")])])])}]},d={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},components:{headerMenu:i("VU/8")(o,c,!1,null,null,null).exports,asideMenu:i("VU/8")({data:function(){return{}}},m,!1,null,null,null).exports}},_={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"app"},[s("headerMenu"),this._v(" "),s("div",{staticClass:"m-grid__item m-grid__item--fluid m-grid m-grid--ver-desktop m-grid--desktop m-body"},[this._m(0),this._v(" "),s("div",{staticClass:"m-grid__item  m-aside-left  m-aside-left--skin-light ",attrs:{id:"m_aside_left"}},[s("asideMenu")],1),this._v(" "),s("router-view")],1)],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("button",{staticClass:"m-aside-left-close  m-aside-left-close--skin-light ",attrs:{id:"m_aside_left_close_btn"}},[s("i",{staticClass:"la la-close"})])}]};var u=i("VU/8")(d,_,!1,function(t){i("/MPy")},null,null).exports,p={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"notifications"}},t._l(t.notifications,function(s){return i("div",{class:t.getNotificationClass(s),attrs:{role:"alert"}},[t._v("\n    "+t._s(s.message)+"\n  ")])}))},staticRenderFns:[]},h=i("VU/8")({data:function(){return{}},methods:{getNotificationClass:function(t){return"alert alert-"+t.type}},props:["notifications"]},p,!1,null,null,null).exports,v=i("RUzx"),f=i.n(v),C=i("2uFj"),g=i.n(C),b={components:{Multiselect:f.a,Notification:h},data:function(){return{site:{},niches:[],cities:[],notifications:[],niche:{}}},created:function(){this.fetchNichesData(),this.fetchCitiesData()},methods:{fetchNichesData:function(){var t=this;this.$http.get(g.a.api.uri+"niches").then(function(s){var i=s.body;t.niches=i.map(function(t){return{id:t.id,title:t.title}})},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить ниши, попробуйте перезагрузить страницу"})})},fetchCitiesData:function(){var t=this;this.$http.get(g.a.api.uri+"cities").then(function(s){var i=s.body;t.cities=i.map(function(t){return{id:t.id,name:t.name}})},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить города, попробуйте перезагрузить страницу"})})},createSite:function(){var t=this;console.log("q"),console.log(this.site),this.site.cityId=this.site.cityId.id,this.site.nicheId=this.site.nicheId.id,this.$http.post(g.a.api.uri+"sites/",this.site,{headers:{"Content-Type":"application/json"}}).then(function(s){t.$router.push({name:"siteElements",params:{siteId:s.body.id}})},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, сайт не добавлен. Проверьте данные и попробуйте еще раз"})})},createNiche:function(){var t=this;this.$http.post(g.a.api.uri+"niches/",this.niche,{headers:{"Content-Type":"application/json"}}).then(function(s){var i=s.body;t.niches.push({id:i.id,title:i.title}),t.site.nicheId=t.niches[t.niches.length-1]},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, ниша не создана. Возможно такая ниша уже есть"})})}}},y={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[t._m(0),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[t._m(1),t._v(" "),i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("form",{staticClass:"m-form m-form--fit m-form--label-align-right",on:{submit:function(s){return s.preventDefault(),t.createSite(s)}}},[i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n              Адрес сайта\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.url,expression:"site.url"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"example.com"},domProps:{value:t.site.url},on:{input:function(s){s.target.composing||t.$set(t.site,"url",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n              Название сайта\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.name,expression:"site.name"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"Проект 1"},domProps:{value:t.site.name},on:{input:function(s){s.target.composing||t.$set(t.site,"name",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n              Id Яндекс Метрики\n            ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.idYaMetrika,expression:"site.idYaMetrika"}],staticClass:"form-control m-input",attrs:{type:"text",placeholder:"id"},domProps:{value:t.site.idYaMetrika},on:{input:function(s){s.target.composing||t.$set(t.site,"idYaMetrika",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n              Город\n            ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("multiselect",{attrs:{placeholder:"Выберите город",label:"name","track-by":"name",options:t.cities,multiple:!1},model:{value:t.site.cityId,callback:function(s){t.$set(t.site,"cityId",s)},expression:"site.cityId"}})],1)])]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n              Ниша\n            ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("multiselect",{attrs:{placeholder:"Выберите нишу",label:"title","track-by":"title",options:t.niches,multiple:!1},model:{value:t.site.nicheId,callback:function(s){t.$set(t.site,"nicheId",s)},expression:"site.nicheId"}})],1),t._v(" "),t._m(2)])])]),t._v(" "),t._m(3)])],1)])]),t._v(" "),i("div",{staticClass:"modal fade show",staticStyle:{display:"none"},attrs:{id:"createNiche",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),i("div",{staticClass:"modal-body"},[i("form",{staticClass:"m-form m-form--fit m-form--label-align-right"},[i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n                  Название\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.niche.title,expression:"niche.title"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"Название ниши"},domProps:{value:t.niche.title},on:{input:function(s){s.target.composing||t.$set(t.niche,"title",s.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Отмена\n          ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createNiche}},[t._v("\n            Добавить\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-subheader "},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"mr-auto"},[s("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])]),this._v(" "),s("li",{staticClass:"m-nav__separator"},[this._v("\n          -\n        ")]),this._v(" "),s("li",{staticClass:"m-nav__item"},[s("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-text"},[this._v("\n              Добавление нового сайта\n            ")])])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__head"},[s("div",{staticClass:"m-portlet__head-caption"},[s("div",{staticClass:"m-portlet__head-title"},[s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})]),this._v(" "),s("h3",{staticClass:"m-portlet__head-text"},[this._v("\n              Добавление нового сайта\n            ")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#createNiche"}},[this._v("\n                  Добавить нишу\n                ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__foot m-portlet__foot--fit"},[s("div",{staticClass:"m-form__actions"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n              Продолжить\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("\n            Добавить нишу\n          ")]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("\n              ×\n            ")])])])}]};var k=i("VU/8")(b,y,!1,function(t){i("TVB/")},null,null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[s("div",{staticClass:"m-content"},[this._v("\n    Inner page content goes here\n  ")])])}]},j=i("VU/8")({data:function(){return{}}},w,!1,null,null,null).exports,x={data:function(){return{niches:[]}},created:function(){this.fetchNichesData()},methods:{fetchNichesData:function(){var t=this;this.$http.get(g.a.api.uri+"nichesWithSites").then(function(s){t.niches=s.body},function(t){})}}},S={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[t._m(0),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[t._m(1),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"m-section"},t._l(t.niches,function(s){return s.sites.length>0?i("div",{key:s.id},[i("h3",{staticClass:"m-section__heading"},[t._v("\n              "+t._s(s.title)+"\n            ")]),t._v(" "),i("div",{staticClass:"m-section__content"},[i("div",{staticClass:"m-demo",attrs:{"data-code-preview":"true","data-code-html":"true","data-code-js":"false"}},[i("div",{staticClass:"m-demo__preview"},t._l(s.sites,function(s){return i("p",{key:s.id},[i("router-link",{attrs:{to:{name:"site",params:{siteId:s.id}}}},[t._v(t._s(s.name))])],1)}))])])]):t._e()}))])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-subheader "},[s("div",{staticClass:"d-flex align-items-center"},[s("div",{staticClass:"mr-auto"},[s("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])]),this._v(" "),s("li",{staticClass:"m-nav__separator"},[this._v("\n          -\n        ")]),this._v(" "),s("li",{staticClass:"m-nav__item"},[s("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-text"},[this._v("\n              Сайты\n            ")])])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__head"},[s("div",{staticClass:"m-portlet__head-caption"},[s("div",{staticClass:"m-portlet__head-title"},[s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})]),this._v(" "),s("h3",{staticClass:"m-portlet__head-text"},[this._v("\n              Сайты\n            ")])])])])}]},$=i("VU/8")(x,S,!1,null,null,null).exports,E=i("woOf"),I=i.n(E),D={components:{Datepicker:i("IC97").a,Multiselect:f.a},data:function(){return{site:{},chartData:[],inputData:[],data:[],emptyData:{},interval:"7daysAgo",siteScripts:[],selectedScript:null}},created:function(){this.fetchSiteData(),this.fetchStatisticData()},methods:{fetchSiteData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId+"/siteScripts").then(function(s){t.site=s.body,t.siteScripts=s.body.siteScripts},function(t){})},fetchStatisticData:function(){var t=this;this.$http.get(g.a.api.uri+"getStatistic?siteId="+this.$route.params.siteId+"&interval="+this.interval).then(function(s){if(s.body.length>0){t.inputData=s.body,t.chartData=[{name:"Просмотры",data:{}},{name:"Новые посетители",data:{}}];var i=new Date(Date.now()),e=8;"7daysAgo"!==t.interval&&(e=31);for(var a=0;a<e;a++){var n=t.formatDate(i);t.emptyData[n]=0,i=new Date(i-864e5)}t.changeScript()}},function(t){console.log(t)})},formatDate:function(t){var s=t.getDate(),i=t.getMonth()+1,e=t.getFullYear();return s<10&&(s="0"+s),i<10&&(i="0"+i),e+"-"+i+"-"+s},changeInterval:function(t){this.interval!==t&&(this.interval=t,this.emptyData=[],this.fetchStatisticData())},changeScript:function(){console.log(this.selectedScript);var t=0,s=0;this.data.pageviews=0,this.data.newUsers=0,this.data.conversion=0,this.chartData[0].data=I()({},this.emptyData),this.chartData[1].data=I()({},this.emptyData);var i=!1;null==this.selectedScript&&(i=!0);for(var e=0;e<this.inputData.length;e++)(i||this.selectedScript.utm_term===this.inputData[e].dimensions[1].name)&&(t=this.inputData[e].metrics[0],s=this.inputData[e].metrics[1],this.data.conversion+=this.inputData[e].metrics[2],this.data.pageviews+=t,this.data.newUsers+=s,this.chartData[0].data[this.inputData[e].dimensions[0].name]+=t,this.chartData[1].data[this.inputData[e].dimensions[0].name]+=s);this.data.conversion=(parseInt(this.data.conversion)/parseInt(this.data.pageviews)).toFixed(2)}}},N={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-subheader "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"mr-auto"},[i("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[t._m(0),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"sitesHome"}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              Сайты\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              "+t._s(t.site.name)+"\n            ")])])])])])])]),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[i("div",{staticClass:"m-portlet__head"},[i("div",{staticClass:"m-portlet__head-caption"},[i("div",{staticClass:"m-portlet__head-title"},[t._m(1),t._v(" "),i("h3",{staticClass:"m-portlet__head-text"},[t._v("\n              "+t._s(t.site.name)+"\n            ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__head-tools"},[i("ul",{staticClass:"nav nav-pills nav-pills--brand m-nav-pills--align-right m-nav-pills--btn-pill m-nav-pills--btn-sm",attrs:{role:"tablist"}},[i("li",[i("multiselect",{attrs:{placeholder:"Все сценарии",label:"name","track-by":"name",options:t.siteScripts,multiple:!1},on:{input:t.changeScript},model:{value:t.selectedScript,callback:function(s){t.selectedScript=s},expression:"selectedScript"}})],1),t._v(" "),i("li",{staticClass:"nav-item m-tabs__item"},[i("a",{staticClass:"nav-link m-tabs__link active show",attrs:{"data-toggle":"tab",href:"#m_widget2_tab1_content",role:"tab","aria-selected":"true"},on:{click:function(s){t.changeInterval("7daysAgo")}}},[t._v("\n                За неделю\n              ")])]),t._v(" "),i("li",{staticClass:"nav-item m-tabs__item"},[i("a",{staticClass:"nav-link m-tabs__link",attrs:{"data-toggle":"tab",href:"#m_widget2_tab2_content",role:"tab","aria-selected":"false"},on:{click:function(s){t.changeInterval("30daysAgo")}}},[t._v("\n                За месяц\n              ")])])])])]),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-2"},[i("div",{staticClass:"m-widget1",staticStyle:{"padding-top":"0px"}},[i("div",{staticClass:"m-widget1__item"},[i("div",{staticClass:"row m-row--no-padding align-items-center"},[t._m(2),t._v(" "),i("div",{staticClass:"col m--align-right"},[i("span",{staticClass:"m-widget1__number m--font-brand"},[t._v("\n                        "+t._s(t.data.pageviews)+"\n                      ")])])])]),t._v(" "),i("div",{staticClass:"m-widget1__item"},[i("div",{staticClass:"row m-row--no-padding align-items-center"},[t._m(3),t._v(" "),i("div",{staticClass:"col m--align-right"},[i("span",{staticClass:"m-widget1__number m--font-danger"},[t._v("\n                        "+t._s(t.data.newUsers)+"\n                      ")])])])]),t._v(" "),i("div",{staticClass:"m-widget1__item"},[i("div",{staticClass:"row m-row--no-padding align-items-center"},[t._m(4),t._v(" "),i("div",{staticClass:"col m--align-right"},[i("span",{staticClass:"m-widget1__number m--font-success"},[t._v("\n                        "+t._s(t.data.conversion)+" %\n                      ")])])])])])]),t._v(" "),i("div",{staticClass:"col-md-8"},[i("line-chart",{attrs:{data:t.chartData,messages:{empty:"Нет данных, возможно не установлен id яндекс метрики"},legend:"bottom"}})],1),t._v(" "),i("div",{staticClass:"col-md-2"},[i("div",{staticClass:"m-demo"},[i("div",{staticClass:"m-list-search"},[i("div",{staticClass:"m-list-search__results"},[i("span",{staticClass:"m-list-search__result-category",staticStyle:{"margin-top":"0px"}},[t._v("\n                      Управление\n                    ")]),t._v(" "),i("router-link",{staticClass:"m-list-search__result-item",attrs:{to:{name:"siteElements"}}},[i("span",{staticClass:"m-list-search__result-item-icon"},[i("i",{staticClass:"flaticon-edit-1 m--font-warning"})]),t._v(" "),i("span",{staticClass:"m-list-search__result-item-text"},[t._v("\n                        Разметить страницу\n                      ")])]),t._v(" "),i("router-link",{staticClass:"m-list-search__result-item",attrs:{to:{name:"siteScripts"}}},[i("span",{staticClass:"m-list-search__result-item-icon"},[i("i",{staticClass:"flaticon-web m--font-primary"})]),t._v(" "),i("span",{staticClass:"m-list-search__result-item-text"},[t._v("\n                        Настроить сценарии\n                      ")])]),t._v(" "),i("router-link",{staticClass:"m-list-search__result-item",attrs:{to:{name:"siteSettings"}}},[i("span",{staticClass:"m-list-search__result-item-icon"},[i("i",{staticClass:"flaticon-cogwheel-1 m--font-success"})]),t._v(" "),i("span",{staticClass:"m-list-search__result-item-text"},[t._v("\n                        Настройки сайта\n                      ")])]),t._v(" "),i("a",{staticClass:"m-list-search__result-item",attrs:{href:"https://metrika.yandex.ru/dashboard?id="+t.site.idYaMetrika,target:"_blank"}},[t._m(5),t._v(" "),i("span",{staticClass:"m-list-search__result-item-text"},[t._v("\n                        Яндекс Метрика\n                      ")])])],1)])])])])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col"},[s("h3",{staticClass:"m-widget1__title"},[this._v("\n                        Просмотров\n                      ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col"},[s("h3",{staticClass:"m-widget1__title"},[this._v("\n                        Новых посетителей\n                      ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col"},[s("h3",{staticClass:"m-widget1__title"},[this._v("\n                        Конверсия\n                      ")]),this._v(" "),s("span",{staticClass:"m-widget1__desc"},[this._v("\n                        По всем целям\n                      ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"m-list-search__result-item-icon"},[s("i",{staticClass:"flaticon-diagram m--font-danger"})])}]};var V=i("VU/8")(D,N,!1,function(t){i("Ie3f")},null,null).exports,T={render:function(){var t=this.$createElement;return(this._self._c||t)("td",{attrs:{contenteditable:"true"},on:{input:this.update}})},staticRenderFns:[]},z=i("VU/8")({data:function(){return{}},props:["content"],mounted:function(){this.$el.innerText=this.content},methods:{update:function(t){this.$emit("update",t.target.innerText)}}},T,!1,null,null,null).exports,M=0,F={data:function(){return{site:{},elements:[],notifications:[]}},created:function(){this.fetchSiteData(),this.fetchSiteElementsData()},methods:{fetchSiteData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId).then(function(s){t.site=s.body},function(s){t.notifications.push({type:"danger",message:"Не удалось получить инфрмацию о сайте"})})},fetchSiteElementsData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId+"/siteElements").then(function(s){t.elements=s.body},function(s){t.notifications.push({type:"danger",message:"Не удалось получить данные о элементах"})})},saveElements:function(){var t=this;console.log(this.elements),this.$http.post(g.a.api.uri+"sites/"+this.$route.params.siteId+"/saveSiteElements/",this.elements,{headers:{"Content-Type":"application/json"}}).then(function(s){t.$router.push({name:"siteScripts",params:{siteId:t.site.id}})},function(s){t.notifications.push({type:"danger",message:"Не удалось сохранить данные"})})},back:function(){this.$router.go(-1)},addNewLine:function(){this.elements.push({id:M.toString(),name:"undef",keyName:"undef",siteId:this.site.id}),M++},removeLine:function(t){if(t.id.length>10){if(!confirm("Вы действительно хотите элемент "+t.name+"?"))return;this.$http.delete(g.a.api.uri+"siteElements/"+t.id,{headers:{"Content-Type":"application/json"}}).then(function(t){},function(t){console.log(t)})}for(var s=0;s<this.elements.length;s++)if(this.elements[s].id===t.id)return void this.elements.splice(s,1)}},components:{"editable-td":z,Notification:h}},U={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-subheader "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"mr-auto"},[i("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[t._m(0),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"sitesHome"}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              Сайты\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"site",params:{siteId:t.site.id}}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              "+t._s(t.site.name)+"\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),t._m(1)])])])]),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[i("div",{staticClass:"m-portlet__head"},[t._m(2),t._v(" "),i("div",{staticClass:"m-portlet__head-tools"},[i("button",{staticClass:"table-add btn btn-success",attrs:{type:"button",id:"btn_add_elements"},on:{click:t.addNewLine}},[t._v("\n            Добавить\n          ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"table table-editable overflow block_elements grid-body no-border",attrs:{id:"table"}},[i("table",{staticClass:"table",attrs:{id:"table_elements"}},[t._m(3),t._v(" "),i("tbody",t._l(t.elements,function(s){return i("tr",{key:s.id},[i("editable-td",{attrs:{content:s.name},on:{update:function(t){s.name=t}}}),t._v(" "),i("editable-td",{attrs:{content:s.keyName},on:{update:function(t){s.keyName=t}}}),t._v(" "),i("td",[i("div",{staticClass:"table-remove m-demo-icon__preview",staticStyle:{cursor:"pointer"},on:{click:function(i){t.removeLine(s)}}},[i("i",{staticClass:"la la-close"})])])],1)}))]),t._v(" "),i("div",{staticClass:"form-actions",staticStyle:{"padding-bottom":"10px"}},[i("div",{staticClass:"pull-right"},[i("button",{staticClass:"btn btn-primary btn-cons-md",attrs:{type:"submit"},on:{click:t.saveElements}},[t._v("Сохранить")])])])])],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item"},[s("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-text"},[this._v("\n              Разметить страницу\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__head-caption"},[s("div",{staticClass:"m-portlet__head-title"},[s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})]),this._v(" "),s("h3",{staticClass:"m-portlet__head-text"},[this._v("\n              Разметить страницу\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("tr",{staticClass:"tr-head"},[s("th",[this._v("Название")]),this._v(" "),s("th",[this._v("Ключ")]),this._v(" "),s("th")])}]},P=i("VU/8")(F,U,!1,null,null,null).exports,R={data:function(){return{site:{siteScripts:[],siteElements:[]},siteScript:{},notifications:[],directGroups:[]}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId+"/siteScripts").then(function(s){t.site=s.body,t.fetchDirectGroups()},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить информацию"})})},fetchDirectGroups:function(){var t=this;""!==this.site.oauthTokenYandex&&this.$http.get(g.a.api.uri+"getDirectGroups/"+this.site.id).then(function(s){s.body.map(function(s){return t.directGroups.push(t.createDirectObject(s))})},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить группы объявлений из Яндекс Директа"})})},addSiteScript:function(){var t=this;this.siteScript.siteId=this.site.id,console.log(this.siteScript.directGroupId),void 0!==this.siteScript.directGroupId&&(this.siteScript.directGroupId=this.siteScript.directGroupId.id),this.siteScript.id?this.$http.patch(g.a.api.uri+"siteScripts/"+this.siteScript.id,this.siteScript).then(function(s){void 0!==s.body.directGroupId&&t.setUtms(s.body.id)},function(s){t.notifications.push({type:"danger",message:"Не удалось изменить"})}):this.$http.post(g.a.api.uri+"siteScripts/",this.siteScript).then(function(s){t.site.siteScripts.push(s.body),void 0!==s.body.directGroupId&&t.setUtms(s.body.id)},function(s){t.notifications.push({type:"danger",message:"Не удалось создать"})})},clearModal:function(){this.siteScript={}},editSiteScript:function(t){this.siteScript=t,this.setDirectGroup()},removeSiteScript:function(t){var s=this;console.log(t),confirm("Вы действительно хотите удалить сценарий "+t.name+"?")&&this.$http.delete(g.a.api.uri+"siteScripts/"+t.id,{headers:{"Content-Type":"application/json"}}).then(function(i){for(var e=0;e<s.site.siteScripts.length;e++)if(s.site.siteScripts[e].id===t.id)return void s.site.siteScripts.splice(e,1)},function(t){s.notifications.push({type:"danger",message:"Не удалось удалить"})})},setDirectGroup:function(){for(var t=0;t<this.directGroups.length;t++)if(this.siteScript.directGroupId===this.directGroups[t].id)return void(this.siteScript.directGroupId=this.directGroups[t])},createDirectObject:function(t){return{name:t.Name+" ["+t.Id+"]",id:""+t.Id}},setUtms:function(t){var s=this;this.$http.post(g.a.api.uri+"setUtm/"+t).then(function(t){},function(t){s.notifications.push({type:"danger",message:"Не удалось проставить utm-метки"})})}},components:{"editable-td":z,Notification:h,Multiselect:f.a}},G={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-subheader "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"mr-auto"},[i("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[t._m(0),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"sitesHome"}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              Сайты\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"site",params:{siteId:t.site.id}}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              "+t._s(t.site.name)+"\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),t._m(1)])])])]),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-xl-3 col-lg-12"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[i("div",{staticClass:"m-portlet__head"},[t._m(2),t._v(" "),i("div",{staticClass:"m-portlet__head-tools"},[i("button",{staticClass:"btn btn-success",attrs:{id:"btn_add_elements",type:"button","data-toggle":"modal","data-target":"#createSiteScript"},on:{click:t.clearModal}},[t._v("\n            Добавить\n          ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),i("div",{staticClass:"table table-editable overflow block_elements grid-body no-border",attrs:{id:"table"}},[i("div",{staticClass:"m-section__content"},[i("table",{staticClass:"table"},[t._m(3),t._v(" "),i("tbody",t._l(t.site.siteScripts,function(s,e){return i("tr",{key:s.id},[i("td",{attrs:{scope:"row"}},[t._v(t._s(e+1))]),t._v(" "),i("td",[i("router-link",{attrs:{to:{name:"siteScript",params:{siteScriptId:s.id}}}},[t._v(t._s(s.name))])],1),t._v(" "),i("td",[i("a",{staticClass:"m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill",attrs:{title:"Edit details","data-toggle":"modal","data-target":"#createSiteScript"},on:{click:function(i){t.editSiteScript(s)}}},[i("i",{staticClass:"la la-edit"})]),t._v(" "),i("a",{staticClass:"m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill",attrs:{title:"Delete"},on:{click:function(i){t.removeSiteScript(s)}}},[i("i",{staticClass:"la la-trash"})])])])}))])])])],1)])]),t._v(" "),i("div",{staticClass:"col-xl-9 col-lg-12"},[i("router-view")],1)])])]),t._v(" "),i("div",{staticClass:"modal fade show",staticStyle:{display:"none"},attrs:{id:"createSiteScript",tabindex:"-1",role:"dialog"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(4),t._v(" "),i("div",{staticClass:"modal-body"},[i("form",{staticClass:"m-form m-form--fit m-form--label-align-right"},[i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                  Название\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.siteScript.name,expression:"siteScript.name"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"Новый сценарий"},domProps:{value:t.siteScript.name},on:{input:function(s){s.target.composing||t.$set(t.siteScript,"name",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                  utm_term\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.siteScript.utm_term,expression:"siteScript.utm_term"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"test"},domProps:{value:t.siteScript.utm_term},on:{input:function(s){s.target.composing||t.$set(t.siteScript,"utm_term",s.target.value)}}})]),t._v(" "),""!==t.site.oauthTokenYandex?i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("Группа объявлений Яндекс Директ")]),t._v(" "),i("multiselect",{attrs:{placeholder:"Выберите группу",label:"name","track-by":"name",options:t.directGroups,multiple:!1},model:{value:t.siteScript.directGroupId,callback:function(s){t.$set(t.siteScript,"directGroupId",s)},expression:"siteScript.directGroupId"}})],1):t._e()])])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Отмена\n          ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.addSiteScript}},[t._v("\n            Сохранить\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item"},[s("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-text"},[this._v("\n              Настроить сценарии\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__head-caption"},[s("div",{staticClass:"m-portlet__head-title"},[s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})]),this._v(" "),s("h3",{staticClass:"m-portlet__head-text"},[this._v("\n              Сценарии\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("thead",[s("tr",[s("th",[this._v("#")]),this._v(" "),s("th",[this._v("Название")]),this._v(" "),s("th",[this._v("Действия")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("\n            Добавить/изменить сценарий\n          ")]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("\n              ×\n            ")])])])}]};var q=i("VU/8")(R,G,!1,function(t){i("MYo7")},null,null).exports,Y={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-container"},[i("div",{staticClass:"modal-header"},[t._t("header",[t._v("\n            default header\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-body"},[t._t("body",[t._v("\n            default body\n          ")])],2),t._v(" "),i("div",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n            default footer\n            ")])],2)])])])])},staticRenderFns:[]};var A={data:function(){return{site:{},notifications:[],niches:[],cities:[],niche:{},directCopmpany:[]}},created:function(){this.fetchSiteData(),this.fetchNichesData(),this.fetchCitiesData()},methods:{fetchSiteData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId).then(function(s){t.site=s.body,t.fetchDirectData()},function(t){}),this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId+"/siteElements").then(function(s){t.elements=s.body},function(t){})},fetchNichesData:function(){var t=this;this.$http.get(g.a.api.uri+"niches").then(function(s){var i=s.body;t.niches=i.map(function(t){return{id:t.id,title:t.title}}),t.setNiche()},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить ниши, попробуйте перезаугрузить страницу"})})},fetchCitiesData:function(){var t=this;this.$http.get(g.a.api.uri+"cities").then(function(s){var i=s.body;t.cities=i.map(function(t){return{id:t.id,name:t.name}}),t.setCity()},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить города, попробуйте перезаугрузить страницу"})})},fetchDirectData:function(){var t=this;""!==this.site.oauthTokenYandex&&this.$http.get(g.a.api.uri+"getCompany/"+this.site.id).then(function(s){s.body.map(function(s){return t.directCopmpany.push(t.createDirectObject(s))}),t.setCompany()},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить компании из Яндекс Директа"})})},updateSite:function(){var t=this;this.site.cityId=this.site.cityId.id,this.site.nicheId=this.site.nicheId.id,this.site.directCompanyId=this.site.directCompanyId.id,this.$http.patch(g.a.api.uri+"sites/"+this.site.id,this.site,{headers:{"Content-Type":"application/json"}}).then(function(s){t.$router.push({name:"site",params:{siteId:t.site.id}})},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, сайт не добавлен. Проверьте данные и попробуйте еще раз"})})},createNiche:function(){var t=this;this.$http.post(g.a.api.uri+"niches/",this.niche,{headers:{"Content-Type":"application/json"}}).then(function(s){var i=s.body;t.niches.push({id:i.id,title:i.title}),t.site.nicheId=t.niches[t.niches.length-1]},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, ниша не создана. Возможно такая ниша уже есть"})})},removeSite:function(){var t=this;confirm("Вы действительно хотите удалить сайт "+this.site.name+"?")&&this.$http.delete(g.a.api.uri+"sites/"+this.$route.params.siteId,{headers:{"Content-Type":"application/json"}}).then(function(s){t.$router.push({name:"sitesHome"})},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, сайт не удален, попробуйте перезагрузить страницу"})})},setNiche:function(){for(var t=0;t<this.niches.length;t++)if(this.site.nicheId===this.niches[t].id)return void(this.site.nicheId=this.niches[t])},setCity:function(){for(var t=0;t<this.cities.length;t++)if(this.site.cityId===this.cities[t].id)return void(this.site.cityId=this.cities[t])},setCompany:function(){for(var t=0;t<this.directCopmpany.length;t++)if(this.site.directCompanyId===this.directCopmpany[t].id)return void(this.site.directCompanyId=this.directCopmpany[t])},getToken:function(){var t=this,s=window.open("https://oauth.yandex.ru/authorize?response_type=code&client_id=0031c3e64b3b4bbca25db4623c21834d&force_confirm=yes&ncrnd=522689&status=ok","Получить доступ","width=600,height=400"),i=setInterval(function(){if(s.closed&&clearInterval(i),-1!==s.location.href.search(/http:\/\/localhost:8080\//)){var e=s.location.href.split("=");console.log(e),s.close(),""!==e[1]&&(t.site.oauthTokenYandex=e[1],t.setYandexToken())}},1e3)},setYandexToken:function(){var t=this;this.$http.patch(g.a.api.uri+"setYandexToken/"+this.site.id,{oauthTokenYandex:this.site.oauthTokenYandex},{headers:{"Content-Type":"application/json"}}).then(function(s){t.fetchDirectData()},function(s){t.notifications.push({type:"danger",message:"Произошла ошибка, Яндекс Директ не подключен"})})},removeToken:function(){this.site.oauthTokenYandex="",this.directCopmpany=[],this.setYandexToken()},createDirectObject:function(t){return{name:t.Name+" ["+t.Id+"]",id:""+t.Id}}},components:{Notification:h,Modal:i("VU/8")({data:function(){return{}}},Y,!1,function(t){i("xipr")},null,null).exports,Multiselect:f.a}},H={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-grid__item m-grid__item--fluid m-wrapper"},[i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-subheader "},[i("div",{staticClass:"d-flex align-items-center"},[i("div",{staticClass:"mr-auto"},[i("ul",{staticClass:"m-subheader__breadcrumbs m-nav m-nav--inline"},[t._m(0),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"sitesHome"}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              Сайты\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),i("li",{staticClass:"m-nav__item"},[i("router-link",{staticClass:"m-menu__link ",attrs:{to:{name:"site",params:{siteId:t.site.id}}}},[i("span",{staticClass:"m-nav__link-text"},[t._v("\n              "+t._s(t.site.name)+"\n            ")])])],1),t._v(" "),i("li",{staticClass:"m-nav__separator"},[t._v("\n          -\n        ")]),t._v(" "),t._m(1)])])])]),t._v(" "),i("div",{staticClass:"m-content"},[i("div",{staticClass:"m-portlet m-portlet--mobile"},[i("div",{staticClass:"m-portlet__head"},[t._m(2),t._v(" "),i("div",{staticClass:"m-portlet__head-tools"},[i("button",{staticClass:"btn btn-danger",on:{click:t.removeSite}},[t._v("\n            Удалить сайт\n          ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),""===t.site.oauthTokenYandex?i("button",{staticClass:"btn btn-warning",on:{click:t.getToken}},[t._v("Яндекс Директ")]):t._e(),t._v(" "),i("form",{staticClass:"m-form m-form--fit m-form--label-align-right",on:{submit:function(s){return s.preventDefault(),t.updateSite(s)}}},[i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                  Адрес сайта\n              ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.url,expression:"site.url"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"example.com"},domProps:{value:t.site.url},on:{input:function(s){s.target.composing||t.$set(t.site,"url",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                  Название сайта\n              ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.name,expression:"site.name"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"Проект 1"},domProps:{value:t.site.name},on:{input:function(s){s.target.composing||t.$set(t.site,"name",s.target.value)}}})]),t._v(" "),""!==t.site.oauthTokenYandex?i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("Яндекс Директ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("multiselect",{attrs:{placeholder:"Выберите компанию",label:"name","track-by":"name",options:t.directCopmpany,multiple:!1},model:{value:t.site.directCompanyId,callback:function(s){t.$set(t.site,"directCompanyId",s)},expression:"site.directCompanyId"}})],1),t._v(" "),i("div",{staticClass:"col-md-4"},[i("button",{staticClass:"btn btn-warning",attrs:{type:"button"},on:{click:t.removeToken}},[t._v("\n                        Удалить директ\n                    ")])])])]):t._e(),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                    Id Яндекс Метрики\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.idYaMetrika,expression:"site.idYaMetrika"}],staticClass:"form-control m-input",attrs:{type:"text",placeholder:"id"},domProps:{value:t.site.idYaMetrika},on:{input:function(s){s.target.composing||t.$set(t.site,"idYaMetrika",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",[t._v("\n                    Token\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.site.token,expression:"site.token"}],staticClass:"form-control m-input",attrs:{type:"text",disabled:"",placeholder:"id"},domProps:{value:t.site.token},on:{input:function(s){s.target.composing||t.$set(t.site,"token",s.target.value)}}})]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n                  Город\n              ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("multiselect",{attrs:{placeholder:"Выберите город",label:"name","track-by":"name",options:t.cities,multiple:!1},model:{value:t.site.cityId,callback:function(s){t.$set(t.site,"cityId",s)},expression:"site.cityId"}})],1)])]),t._v(" "),i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n                  Ниша\n              ")]),t._v(" "),i("div",{staticClass:"row"},[i("div",{staticClass:"col-md-8"},[i("multiselect",{attrs:{placeholder:"Выберите нишу",label:"title","track-by":"title",options:t.niches,multiple:!1},model:{value:t.site.nicheId,callback:function(s){t.$set(t.site,"nicheId",s)},expression:"site.nicheId"}})],1),t._v(" "),t._m(3)])])]),t._v(" "),t._m(4)])],1)])])]),t._v(" "),i("div",{staticClass:"modal fade show",staticStyle:{display:"none"},attrs:{id:"createNiche",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel"}},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[i("div",{staticClass:"modal-content"},[t._m(5),t._v(" "),i("div",{staticClass:"modal-body"},[i("form",{staticClass:"m-form m-form--fit m-form--label-align-right"},[i("div",{staticClass:"m-portlet__body"},[i("div",{staticClass:"form-group m-form__group"},[i("label",{attrs:{for:"exampleInputEmail1"}},[t._v("\n                  Название\n                ")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.niche.title,expression:"niche.title"}],staticClass:"form-control m-input",attrs:{type:"text",required:"",placeholder:"Название ниши"},domProps:{value:t.niche.title},on:{input:function(s){s.target.composing||t.$set(t.niche,"title",s.target.value)}}})])])])]),t._v(" "),i("div",{staticClass:"modal-footer"},[i("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("\n            Отмена\n          ")]),t._v(" "),i("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.createNiche}},[t._v("\n            Добавить\n          ")])])])])])])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item m-nav__item--home"},[s("a",{staticClass:"m-nav__link m-nav__link--icon",attrs:{href:"/"}},[s("i",{staticClass:"m-nav__link-icon la la-home"})])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"m-nav__item"},[s("a",{staticClass:"m-nav__link",attrs:{href:"#"}},[s("span",{staticClass:"m-nav__link-text"},[this._v("\n              Настройки\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__head-caption"},[s("div",{staticClass:"m-portlet__head-title"},[s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})]),this._v(" "),s("h3",{staticClass:"m-portlet__head-text"},[this._v("\n              Настройки сайта\n            ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"col-md-4"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#createNiche"}},[this._v("\n                      Добавить нишу\n                  ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"m-portlet__foot m-portlet__foot--fit"},[s("div",{staticClass:"m-form__actions"},[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("\n                  Сохранить\n              ")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("\n            Добавить нишу\n          ")]),this._v(" "),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[this._v("\n              ×\n            ")])])])}]};var L=i("VU/8")(A,H,!1,function(t){i("XuQG")},null,null).exports,O={data:function(){return{siteScript:{},notifications:[],siteElements:[],ads:[]}},created:function(){this.fetchData(),this.fetchSiteElementsData()},methods:{fetchData:function(){var t=this;this.$http.get(g.a.api.uri+"siteScripts/"+this.$route.params.siteScriptId).then(function(s){t.siteScript=s.body,void 0!==t.siteScript.directGroupId&&t.fethAdsData()},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить информацию о сценарии"})})},fetchSiteElementsData:function(){var t=this;this.$http.get(g.a.api.uri+"sites/"+this.$route.params.siteId+"/siteElements").then(function(s){t.siteElements=s.body},function(s){t.notifications.push({type:"danger",message:"Не удалось загрузить информацию о элементах"})})},fethAdsData:function(){var t=this;this.$http.get(g.a.api.uri+"getAds/"+this.siteScript.id).then(function(s){t.ads=s.body},function(s){t.notifications.push({type:"warning",message:"Не удалось загрузить информацию о объявлениях"})})},addScriptVersion:function(){var t=this;this.$http.post(g.a.api.uri+"scriptVersions/",{siteId:this.$route.params.siteId,siteScriptId:this.siteScript.id}).then(function(s){t.siteScript.scriptVersions.push(s.body)},function(s){t.notifications.push({type:"danger",message:"Не удалось создать"})})},removeScriptVersion:function(t){var s=this;confirm("Вы действительно хотите удалить эту версию?")&&this.$http.delete(g.a.api.uri+"scriptVersions/"+t.id,{headers:{"Content-Type":"application/json"}}).then(function(i){for(var e=0;e<s.siteScript.scriptVersions.length;e++)if(s.siteScript.scriptVersions[e].id===t.id)return void s.siteScript.scriptVersions.splice(e,1)},function(t){s.notifications.push({type:"danger",message:"Не удалось удалить"})})},changeActive:function(t){t.isActive=!t.isActive},updateScriptVersion:function(t){var s=this;this.$http.patch(g.a.api.uri+"scriptVersions/"+t.id,t).then(function(t){s.notifications.push({type:"success",message:"Данные успешно обновлены"})},function(t){s.notifications.push({type:"danger",message:"Не удалось изменить"})})}},components:{"editable-td":z,Notification:h},beforeRouteUpdate:function(t,s,i){i(),this.ads=[],this.notifications=[],this.fetchData()}},X={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{staticClass:"m-portlet m-portlet--mobile"},[i("div",{staticClass:"m-portlet__head"},[i("div",{staticClass:"m-portlet__head-caption"},[i("div",{staticClass:"m-portlet__head-title"},[t._m(0),t._v(" "),i("h3",{staticClass:"m-portlet__head-text"},[t._v("\n          "+t._s(t.siteScript.name)+"\n        ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__head-tools"},[i("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("\n          Показать объявления\n        ")]),t._v(" "),i("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.addScriptVersion}},[t._v("\n          Добавить вариант\n        ")])])]),t._v(" "),i("div",{staticClass:"m-portlet__body"},[i("notification",{attrs:{notifications:t.notifications}}),t._v(" "),t.ads.length>0?i("div",[i("h4",[t._v("Объявления")]),t._v(" "),i("div",{staticClass:"row",staticStyle:{"padding-bottom":"10px"}},t._l(t.ads,function(s){return i("div",{key:s.id,staticClass:"col-md-4",staticStyle:{"margin-left":"15px",border:"4px solid #f7f7fa"}},[i("h5",[t._v(t._s(s.TextAd.Title))]),t._v(" "),i("p",[t._v(t._s(s.TextAd.Text))])])}))]):t._e(),t._v(" "),i("div",{staticClass:"table table-editable overflow block_elements grid-body no-border",attrs:{id:"table"}},[i("table",{staticClass:"table table-bordered",attrs:{id:"table_elements"}},[i("tr",{staticClass:"tr-head"},[t._l(t.siteElements,function(s){return i("th",{key:s.id},[t._v("\n          "+t._s(s.name)+"\n        ")])}),t._v(" "),i("th",[t._v("Действия")])],2),t._v(" "),i("tbody",t._l(t.siteScript.scriptVersions,function(s){return i("tr",{key:s.id},[t._l(s.elementsValue,function(s){return i("td",{key:s.id},[i("div",{staticClass:"tab-content"},[i("div",{staticClass:"tab-pane active",attrs:{id:"m_tabs_1_1",role:"tabpanel"}},[i("div",{staticClass:"form-group m-form__group"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:s.value,expression:"elementValue.value"}],attrs:{name:"",id:"",disabled:s.isEmpty},domProps:{value:s.value},on:{input:function(i){i.target.composing||t.$set(s,"value",i.target.value)}}}),i("br"),t._v(" "),i("label",{staticClass:"m-checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:s.isEmpty,expression:"elementValue.isEmpty"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.isEmpty)?t._i(s.isEmpty,null)>-1:s.isEmpty},on:{change:function(i){var e=s.isEmpty,a=i.target,n=!!a.checked;if(Array.isArray(e)){var r=t._i(e,null);a.checked?r<0&&t.$set(s,"isEmpty",e.concat([null])):r>-1&&t.$set(s,"isEmpty",e.slice(0,r).concat(e.slice(r+1)))}else t.$set(s,"isEmpty",n)}}}),t._v("Оставить пустым"),i("span")])])])])])}),t._v(" "),i("td",[i("a",{staticClass:"m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill",attrs:{title:"Удалить"},on:{click:function(i){t.removeScriptVersion(s)}}},[i("i",{staticClass:"la la-trash"})]),t._v(" "),s.isActive?i("a",{staticClass:"m-portlet__nav-link btn m-btn m-btn--hover-warning m-btn--icon m-btn--icon-only m-btn--pill",attrs:{title:"Остановить"},on:{click:function(i){t.changeActive(s)}}},[i("i",{staticClass:"la la-pause"})]):i("a",{staticClass:"m-portlet__nav-link btn m-btn m-btn--hover-success m-btn--icon m-btn--icon-only m-btn--pill",attrs:{title:"Запустить"},on:{click:function(i){t.changeActive(s)}}},[i("i",{staticClass:"la la-play"})]),t._v(" "),i("br"),t._v(" "),i("button",{staticClass:"btn btn-primary",on:{click:function(i){t.updateScriptVersion(s)}}},[t._v("Сохранить")])])],2)}))])])],1)])},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("span",{staticClass:"m-portlet__head-icon m--hide"},[s("i",{staticClass:"la la-gear"})])}]},B=i("VU/8")(O,X,!1,null,null,null).exports,W=i("VU/8")(null,null,!1,null,null,null).exports,K=i("YeRc"),Q=i("WaEV"),J=i.n(Q);e.a.use(K.a,{adapter:J.a}),e.a.use(r.a),e.a.use(l.a);var Z=new r.a({mode:"history",props:!0,routes:[{path:"/",component:u,children:[{path:"createSite",name:"createSite",component:k},{path:"sites",name:"sitesHome",component:$},{path:"sites/:siteId",name:"site",component:V},{path:"sites/:siteId/elements",name:"siteElements",component:P},{path:"sites/:siteId/sitescripts",name:"siteScripts",component:q,children:[{path:":siteScriptId",name:"siteScript",component:B}]},{path:"sites/:siteId/settings",name:"siteSettings",component:L},{path:"",name:"HomeContent",component:j}]},{path:"/setToken",name:"setToken",component:W}]});e.a.config.productionTip=!1,new e.a({el:"#app",router:Z,components:{App:n},template:"<App/>"})},PtXE:function(t,s){},"TVB/":function(t,s){},XuQG:function(t,s){},uslO:function(t,s,i){var e={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function a(t){return i(n(t))}function n(t){var s=e[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}a.keys=function(){return Object.keys(e)},a.resolve=n,t.exports=a,a.id="uslO"},xipr:function(t,s){}},["NHnr"]);
//# sourceMappingURL=app.c058e88d889ec3040326.js.map